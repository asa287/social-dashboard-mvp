
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url = env("POSTGRES_PRISMA_URL") // uses connection pooling
  directUrl = env("POSTGRES_URL_NON_POOLING") // uses a direct connection
}

model Post {
  id           String   @id @default(cuid())
  content      String   @db.Text
  mediaUrls    String[] // Stores Cloudinary URLs
  contentType  String   @default("text") // text, image, video, audio
  platforms    String[] // ["douyin", "xiaohongshu", "bilibili"]
  
  status       String   @default("draft") // draft, scheduled, published
  scheduledFor DateTime?
  publishedAt  DateTime?
  
  authorId     String   // Clerk User ID

  // Artificial Intelligence Metadata
  isAiGenerated Boolean @default(false)
  aiPrompt      String? // IF AI was used, what was the prompt?

  // A/B Testing
  abTestGroup   String? // "A" or "B" variant

  // Analytics (Mock Data)
  views         Int      @default(0)
  likes         Int      @default(0)
  comments      Int      @default(0)
  shares        Int      @default(0)

  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

model Inspiration {
  id        String   @id @default(cuid())
  content   String   @db.Text
  tags      String[]
  source    String?  // URL or "Mind"
  authorId  String
  createdAt DateTime @default(now())
}

